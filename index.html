<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />



<meta name="progressive" content="true" />
<meta name="allow-skip" content="true" />

<title>Relational Data in R</title>


<!-- highlightjs -->
<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>

<!-- taken from https://github.com/rstudio/rmarkdown/blob/67b7f5fc779e4cfdfd0f021d3d7745b6b6e17149/inst/rmd/h/default.html#L296-L362 -->
<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<script>
$(document).ready(function () {
  window.buildTabsets("section-TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>
<!-- end tabsets -->



</head>

<body>



<div class="pageContent band">
<div class="bandContent page">

<div class="topics">

<div id="section-overview" class="section level2">
<h2>Overview</h2>
</div>
<div id="section-data" class="section level2">
<h2>Data</h2>
<p>For this workbook we will be using four relational data tables, each storing data regarding different units of analysis. However each and everyone can be linked across this hierarchy.</p>
<p>At the top level we have some data about the Villages in our study</p>
<table>
<thead>
<tr class="header">
<th align="right">village_id</th>
<th align="left">village_name</th>
<th align="left">region_name</th>
<th align="right">population</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="left">Springfield</td>
<td align="left">A</td>
<td align="right">34387</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">Langley Falls</td>
<td align="left">A</td>
<td align="right">462736</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="left">New New York</td>
<td align="left">A</td>
<td align="right">134412</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="left">Pawnee</td>
<td align="left">B</td>
<td align="right">446522</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="left">Balamory</td>
<td align="left">B</td>
<td align="right">341729</td>
</tr>
</tbody>
</table>
<p>Below this we have information on a number of farmers in who took part in our study</p>
<table>
<thead>
<tr class="header">
<th align="right">farmer_id</th>
<th align="right">village_id</th>
<th align="left">name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="right">3</td>
<td align="left">Saadiq</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="right">3</td>
<td align="left">Jelicha</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="right">1</td>
<td align="left">Briana</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="right">5</td>
<td align="left">Daeun</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="right">5</td>
<td align="left">Ruwaida</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="right">2</td>
<td align="left">Fawzi</td>
</tr>
<tr class="odd">
<td align="right">7</td>
<td align="right">2</td>
<td align="left">Yashna</td>
</tr>
<tr class="even">
<td align="right">8</td>
<td align="right">1</td>
<td align="left">Tara</td>
</tr>
<tr class="odd">
<td align="right">9</td>
<td align="right">5</td>
<td align="left">Melina</td>
</tr>
<tr class="even">
<td align="right">10</td>
<td align="right">5</td>
<td align="left">Jeelaan</td>
</tr>
<tr class="odd">
<td align="right">11</td>
<td align="right">1</td>
<td align="left">Razeena</td>
</tr>
<tr class="even">
<td align="right">12</td>
<td align="right">1</td>
<td align="left">Sidqi</td>
</tr>
<tr class="odd">
<td align="right">13</td>
<td align="right">5</td>
<td align="left">Eric</td>
</tr>
<tr class="even">
<td align="right">14</td>
<td align="right">5</td>
<td align="left">Ryann</td>
</tr>
<tr class="odd">
<td align="right">15</td>
<td align="right">2</td>
<td align="left">Kingsley</td>
</tr>
<tr class="even">
<td align="right">16</td>
<td align="right">2</td>
<td align="left">Rifqa</td>
</tr>
<tr class="odd">
<td align="right">17</td>
<td align="right">1</td>
<td align="left">Denise</td>
</tr>
<tr class="even">
<td align="right">18</td>
<td align="right">4</td>
<td align="left">Suhaib</td>
</tr>
<tr class="odd">
<td align="right">19</td>
<td align="right">1</td>
<td align="left">Daniel</td>
</tr>
<tr class="even">
<td align="right">20</td>
<td align="right">4</td>
<td align="left">Sara</td>
</tr>
</tbody>
</table>
<p>Further down still, we have our plot level data</p>
<table>
<thead>
<tr class="header">
<th align="right">plot_id</th>
<th align="right">farmer_id</th>
<th align="right">size</th>
<th align="right">fertiliser_1</th>
<th align="right">fertiliser_2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="right">10</td>
<td align="right">3.1</td>
<td align="right">4</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="right">17</td>
<td align="right">4.1</td>
<td align="right">2</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="right">12</td>
<td align="right">2.9</td>
<td align="right">2</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="right">7</td>
<td align="right">2.5</td>
<td align="right">4</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="right">8</td>
<td align="right">3.5</td>
<td align="right">2</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="right">1</td>
<td align="right">1.9</td>
<td align="right">4</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">7</td>
<td align="right">20</td>
<td align="right">2.1</td>
<td align="right">1</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">8</td>
<td align="right">3</td>
<td align="right">3.9</td>
<td align="right">1</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">9</td>
<td align="right">11</td>
<td align="right">2.3</td>
<td align="right">4</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="right">10</td>
<td align="right">1</td>
<td align="right">3.3</td>
<td align="right">4</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="right">11</td>
<td align="right">15</td>
<td align="right">4.3</td>
<td align="right">3</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">12</td>
<td align="right">6</td>
<td align="right">1.3</td>
<td align="right">4</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="right">13</td>
<td align="right">9</td>
<td align="right">1.3</td>
<td align="right">4</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="right">14</td>
<td align="right">5</td>
<td align="right">1.7</td>
<td align="right">1</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">15</td>
<td align="right">15</td>
<td align="right">1.3</td>
<td align="right">2</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">16</td>
<td align="right">18</td>
<td align="right">2.7</td>
<td align="right">4</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">17</td>
<td align="right">3</td>
<td align="right">3.1</td>
<td align="right">1</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">18</td>
<td align="right">3</td>
<td align="right">1.5</td>
<td align="right">1</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">19</td>
<td align="right">7</td>
<td align="right">4.3</td>
<td align="right">3</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">20</td>
<td align="right">15</td>
<td align="right">3.5</td>
<td align="right">1</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">21</td>
<td align="right">3</td>
<td align="right">3.3</td>
<td align="right">3</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">22</td>
<td align="right">20</td>
<td align="right">0.7</td>
<td align="right">1</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">23</td>
<td align="right">12</td>
<td align="right">0.5</td>
<td align="right">2</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="right">24</td>
<td align="right">18</td>
<td align="right">0.9</td>
<td align="right">2</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">25</td>
<td align="right">9</td>
<td align="right">2.1</td>
<td align="right">2</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="right">26</td>
<td align="right">19</td>
<td align="right">1.5</td>
<td align="right">4</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="right">27</td>
<td align="right">18</td>
<td align="right">3.7</td>
<td align="right">3</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">28</td>
<td align="right">19</td>
<td align="right">4.3</td>
<td align="right">1</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">29</td>
<td align="right">16</td>
<td align="right">1.3</td>
<td align="right">3</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">30</td>
<td align="right">7</td>
<td align="right">2.1</td>
<td align="right">1</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">31</td>
<td align="right">16</td>
<td align="right">2.7</td>
<td align="right">1</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">32</td>
<td align="right">20</td>
<td align="right">4.5</td>
<td align="right">1</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">33</td>
<td align="right">17</td>
<td align="right">1.9</td>
<td align="right">3</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="right">34</td>
<td align="right">20</td>
<td align="right">1.1</td>
<td align="right">1</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">35</td>
<td align="right">4</td>
<td align="right">3.7</td>
<td align="right">3</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="right">36</td>
<td align="right">2</td>
<td align="right">2.1</td>
<td align="right">2</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">37</td>
<td align="right">17</td>
<td align="right">4.5</td>
<td align="right">1</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">38</td>
<td align="right">1</td>
<td align="right">0.5</td>
<td align="right">4</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="right">39</td>
<td align="right">12</td>
<td align="right">4.5</td>
<td align="right">4</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">40</td>
<td align="right">7</td>
<td align="right">4.3</td>
<td align="right">3</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td align="right">41</td>
<td align="right">9</td>
<td align="right">2.3</td>
<td align="right">3</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="right">42</td>
<td align="right">14</td>
<td align="right">3.1</td>
<td align="right">4</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="right">43</td>
<td align="right">2</td>
<td align="right">2.3</td>
<td align="right">4</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">44</td>
<td align="right">2</td>
<td align="right">4.5</td>
<td align="right">2</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td align="right">45</td>
<td align="right">20</td>
<td align="right">4.5</td>
<td align="right">4</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">46</td>
<td align="right">18</td>
<td align="right">4.7</td>
<td align="right">1</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">47</td>
<td align="right">2</td>
<td align="right">1.5</td>
<td align="right">3</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="right">48</td>
<td align="right">11</td>
<td align="right">3.9</td>
<td align="right">2</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td align="right">49</td>
<td align="right">3</td>
<td align="right">3.5</td>
<td align="right">4</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="right">50</td>
<td align="right">3</td>
<td align="right">0.7</td>
<td align="right">4</td>
<td align="right">3</td>
</tr>
</tbody>
</table>
<p>Lastly, we have some further information on fertilizers.</p>
<table>
<thead>
<tr class="header">
<th align="right">fertiliser_id</th>
<th align="left">name</th>
<th align="right">price_per_ha</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="left">None</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">Compost</td>
<td align="right">12</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="left">Manure</td>
<td align="right">8</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="left">Chemical</td>
<td align="right">25</td>
</tr>
</tbody>
</table>
</div>
<div id="section-aggregating-data" class="section level2">
<h2>Aggregating data</h2>
<p>With any data analysis, at some point you are going to have to summarise your data in some way. Sometimes you may need to even do this prior to analysis as part of your data cleaning process. such as for the generation of new variables.This is certainly to be true if you are handling relational data.</p>
<p>More often than not, you will need to do this summary by some sort of dis/aggregation variable.</p>
<p>In order to do that in R, you first need to know how to group your data.</p>
<div id="section-group_by" class="section level3">
<h3>Group_by</h3>
<p>Grouping data in R with dplyr is very simple.</p>
<p>You use the <code>group_by</code> function to create implicit groupings within your data.</p>
<p>Lets first look at grouping our Plot data by the famrmers who tend them.</p>
<p>We simply provide the name of the variable we want to use to define our groups.</p>
<pre class="r"><code>Plot_data &lt;- Plot_data%&gt;%
  group_by(farmer_id)

Plot_data</code></pre>
<pre><code>## # A tibble: 50 x 5
## # Groups:   farmer_id [19]
##    plot_id farmer_id  size fertiliser_1 fertiliser_2
##      &lt;int&gt;     &lt;int&gt; &lt;dbl&gt;        &lt;int&gt;        &lt;dbl&gt;
##  1       1        10   3.1            4            2
##  2       2        17   4.1            2            1
##  3       3        12   2.9            2            3
##  4       4         7   2.5            4            3
##  5       5         8   3.5            2            1
##  6       6         1   1.9            4            1
##  7       7        20   2.1            1            1
##  8       8         3   3.9            1            1
##  9       9        11   2.3            4            2
## 10      10         1   3.3            4            3
## # ... with 40 more rows</code></pre>
<p>Looking at the data, it will look like nothing has changed. This is because the groups are implicit, it is in essence now part of the metadata of the data. But R will recognise that this grouping exists within the dataset and perform operations accordingly.</p>
<p>Indeed if we take a look at the structure of our data using <code>str</code>, we will see that rather than our data being a data.frame (the standard data format in R), it is now a grouped_df. From this we can see that we have created 19 groupings in our data and we can see for each group which rows belong to it.</p>
<p>So our first group (farmer 1) has 3 rows in the data, and they are rows 6,10 and 38.</p>
<pre class="r"><code>str(Plot_data)</code></pre>
<pre><code>## grouped_df [50 x 5] (S3: grouped_df/tbl_df/tbl/data.frame)
##  $ plot_id     : int [1:50] 1 2 3 4 5 6 7 8 9 10 ...
##  $ farmer_id   : int [1:50] 10 17 12 7 8 1 20 3 11 1 ...
##  $ size        : num [1:50] 3.1 4.1 2.9 2.5 3.5 1.9 2.1 3.9 2.3 3.3 ...
##  $ fertiliser_1: int [1:50] 4 2 2 4 2 4 1 1 4 4 ...
##  $ fertiliser_2: num [1:50] 2 1 3 3 1 1 1 1 2 3 ...
##  - attr(*, &quot;groups&quot;)= tibble [19 x 2] (S3: tbl_df/tbl/data.frame)
##   ..$ farmer_id: int [1:19] 1 2 3 4 5 6 7 8 9 10 ...
##   ..$ .rows    : list&lt;int&gt; [1:19] 
##   .. ..$ : int [1:3] 6 10 38
##   .. ..$ : int [1:4] 36 43 44 47
##   .. ..$ : int [1:6] 8 17 18 21 49 50
##   .. ..$ : int 35
##   .. ..$ : int 14
##   .. ..$ : int 12
##   .. ..$ : int [1:4] 4 19 30 40
##   .. ..$ : int 5
##   .. ..$ : int [1:3] 13 25 41
##   .. ..$ : int 1
##   .. ..$ : int [1:2] 9 48
##   .. ..$ : int [1:3] 3 23 39
##   .. ..$ : int 42
##   .. ..$ : int [1:3] 11 15 20
##   .. ..$ : int [1:2] 29 31
##   .. ..$ : int [1:3] 2 33 37
##   .. ..$ : int [1:4] 16 24 27 46
##   .. ..$ : int [1:2] 26 28
##   .. ..$ : int [1:5] 7 22 32 34 45
##   .. ..@ ptype: int(0) 
##   ..- attr(*, &quot;.drop&quot;)= logi TRUE</code></pre>
<p>If for any reason you want to then get rid of this grouping, perhaps at a later point you want to summarise across your whole data and not groups, or by a differnt grouping variable entirely.</p>
<p>Then we can just add in <code>ungroup</code> and our data will be ungrouped.</p>
<p>Later in this workbook we will also see how we can group by more than one variable.</p>
</div>
<div id="section-summarise-grouped-mutates" class="section level3">
<h3>Summarise / grouped mutates</h3>
<p>Now that we know how to group our variables, let’s look at how we can start aggregating our data.</p>
<p>The simplest way to start creating data summaries is to use the <code>summarise</code> function from the dplyr package.</p>
<p>This will generate summary statistics that you define for each of the groups in your data, or for your whole dataset if your data is not grouped.</p>
<p>Grammatically, it works in a similar way to the <code>mutate</code> function, we first provide a new name for our summary statistic. In this case we have decided to calculate the total area of all of the farmers plots.</p>
<p>On the other side of the equals sign, we right the calculation/function that we want to make.</p>
<p>As we want a total, we use the funciton <code>sum</code> to sum up all the area sizes. Note that we have added the argument <code>na.rm = TRUE</code> this makes sure that any missing values are removed from the calculation. If this is not included and there is missing data, then our result would just read <code>NA</code> and not give an actual number.</p>
<pre class="r"><code>Sum1 &lt;- Plot_data%&gt;%
  group_by(farmer_id)%&gt;%
  summarise(total_area = sum(size, na.rm = TRUE))

Sum1</code></pre>
<pre><code>## # A tibble: 19 x 2
##    farmer_id total_area
##        &lt;int&gt;      &lt;dbl&gt;
##  1         1        5.7
##  2         2       10.4
##  3         3       16  
##  4         4        3.7
##  5         5        1.7
##  6         6        1.3
##  7         7       13.2
##  8         8        3.5
##  9         9        5.7
## 10        10        3.1
## 11        11        6.2
## 12        12        7.9
## 13        14        3.1
## 14        15        9.1
## 15        16        4  
## 16        17       10.5
## 17        18       12  
## 18        19        5.8
## 19        20       12.9</code></pre>
<p>When using summarise, the number of rows returned will be equal to the number of groups in your data. So we had 19 groups, so 19 rows. If our data was not grouped then we would have had only 1 row returned. Also when summarising data, the resulting data will only contain the variables used to group your data and the summary variables you have created. We drop all other variables.</p>
<p>Our resulting data has moved data from the plot level and summarised it up to the farmer level.</p>
<p>Just like <code>mutate</code> we can start creating many different summary variables by serpating the calculations with a comma.</p>
<p>In this example, we have additionally created summaries for the average size of a farmer’s plots, the standard deviation of plot size and finally we have used <code>n()</code> to generate a variable counting how many rows are in each group. Or in other words, how many plots each farmer has. Note that we have NA values for sd as a this has happened where the farmer has only 1 plot, therefore a standard deviation cannot be calculated.</p>
<pre class="r"><code>Sum2 &lt;- Plot_data%&gt;%
  group_by(farmer_id)%&gt;%
  summarise(total_area = sum(size, na.rm = TRUE),
            avg_area = mean(size, na.rm = TRUE),
            sd = sd(size, na.rm = TRUE),
            nplots = n())</code></pre>
<table>
<thead>
<tr class="header">
<th align="right">farmer_id</th>
<th align="right">total_area</th>
<th align="right">avg_area</th>
<th align="right">sd</th>
<th align="right">nplots</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="right">5.7</td>
<td align="right">1.900000</td>
<td align="right">1.4000000</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="right">10.4</td>
<td align="right">2.600000</td>
<td align="right">1.3114877</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="right">16.0</td>
<td align="right">2.666667</td>
<td align="right">1.2675436</td>
<td align="right">6</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="right">3.7</td>
<td align="right">3.700000</td>
<td align="right">NA</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="right">1.7</td>
<td align="right">1.700000</td>
<td align="right">NA</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="right">1.3</td>
<td align="right">1.300000</td>
<td align="right">NA</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">7</td>
<td align="right">13.2</td>
<td align="right">3.300000</td>
<td align="right">1.1661904</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="right">8</td>
<td align="right">3.5</td>
<td align="right">3.500000</td>
<td align="right">NA</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">9</td>
<td align="right">5.7</td>
<td align="right">1.900000</td>
<td align="right">0.5291503</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="right">10</td>
<td align="right">3.1</td>
<td align="right">3.100000</td>
<td align="right">NA</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">11</td>
<td align="right">6.2</td>
<td align="right">3.100000</td>
<td align="right">1.1313708</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="right">12</td>
<td align="right">7.9</td>
<td align="right">2.633333</td>
<td align="right">2.0132892</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="right">14</td>
<td align="right">3.1</td>
<td align="right">3.100000</td>
<td align="right">NA</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">15</td>
<td align="right">9.1</td>
<td align="right">3.033333</td>
<td align="right">1.5534907</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="right">16</td>
<td align="right">4.0</td>
<td align="right">2.000000</td>
<td align="right">0.9899495</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="right">17</td>
<td align="right">10.5</td>
<td align="right">3.500000</td>
<td align="right">1.4000000</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="right">18</td>
<td align="right">12.0</td>
<td align="right">3.000000</td>
<td align="right">1.6206994</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="right">19</td>
<td align="right">5.8</td>
<td align="right">2.900000</td>
<td align="right">1.9798990</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="right">20</td>
<td align="right">12.9</td>
<td align="right">2.580000</td>
<td align="right">1.8253767</td>
<td align="right">5</td>
</tr>
</tbody>
</table>
<p>You can also use mutate to generate these same variables, while keeping your data set at the plot level.</p>
<p>We keep everything within the function the exact same.</p>
<p>All we do is swap <code>summarise</code> for <code>mutate</code></p>
<p>We have added in an <code>arrange</code> to sort the data now on the farmer_id rather than plot_id, just to make this demonstration a little clearer.</p>
<p>Note that we have kept all of our plot specific data and we still have 50 rows. But now we also have variables for total_area, avg_area, sd and nplots. The results of which are the same as what was calculated by summarise, but instead we see these results replicated for each row within a group.</p>
<pre class="r"><code>Sum3 &lt;- Plot_data%&gt;%
  group_by(farmer_id)%&gt;%
  mutate(total_area = sum(size, na.rm = TRUE),
            avg_area = mean(size, na.rm = TRUE),
            sd = sd(size, na.rm = TRUE),
            nplots = n())%&gt;%
  arrange(farmer_id)</code></pre>
<table>
<thead>
<tr class="header">
<th align="right">plot_id</th>
<th align="right">farmer_id</th>
<th align="right">size</th>
<th align="right">fertiliser_1</th>
<th align="right">fertiliser_2</th>
<th align="right">total_area</th>
<th align="right">avg_area</th>
<th align="right">sd</th>
<th align="right">nplots</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">6</td>
<td align="right">1</td>
<td align="right">1.9</td>
<td align="right">4</td>
<td align="right">1</td>
<td align="right">5.7</td>
<td align="right">1.900000</td>
<td align="right">1.400000</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="right">10</td>
<td align="right">1</td>
<td align="right">3.3</td>
<td align="right">4</td>
<td align="right">3</td>
<td align="right">5.7</td>
<td align="right">1.900000</td>
<td align="right">1.400000</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="right">38</td>
<td align="right">1</td>
<td align="right">0.5</td>
<td align="right">4</td>
<td align="right">2</td>
<td align="right">5.7</td>
<td align="right">1.900000</td>
<td align="right">1.400000</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="right">36</td>
<td align="right">2</td>
<td align="right">2.1</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="right">10.4</td>
<td align="right">2.600000</td>
<td align="right">1.311488</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td align="right">43</td>
<td align="right">2</td>
<td align="right">2.3</td>
<td align="right">4</td>
<td align="right">1</td>
<td align="right">10.4</td>
<td align="right">2.600000</td>
<td align="right">1.311488</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="right">44</td>
<td align="right">2</td>
<td align="right">4.5</td>
<td align="right">2</td>
<td align="right">4</td>
<td align="right">10.4</td>
<td align="right">2.600000</td>
<td align="right">1.311488</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td align="right">47</td>
<td align="right">2</td>
<td align="right">1.5</td>
<td align="right">3</td>
<td align="right">2</td>
<td align="right">10.4</td>
<td align="right">2.600000</td>
<td align="right">1.311488</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="right">8</td>
<td align="right">3</td>
<td align="right">3.9</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">16.0</td>
<td align="right">2.666667</td>
<td align="right">1.267544</td>
<td align="right">6</td>
</tr>
<tr class="odd">
<td align="right">17</td>
<td align="right">3</td>
<td align="right">3.1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">16.0</td>
<td align="right">2.666667</td>
<td align="right">1.267544</td>
<td align="right">6</td>
</tr>
<tr class="even">
<td align="right">18</td>
<td align="right">3</td>
<td align="right">1.5</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">16.0</td>
<td align="right">2.666667</td>
<td align="right">1.267544</td>
<td align="right">6</td>
</tr>
</tbody>
</table>
<p>This could be useful for creating a new variable that is at one level, but is also dependent on a variable from a level higher up. For example, by keeping our data at plot level we could generate a new variable that is the proportion of the total area that each plot represents across each farmer.</p>
<pre class="r"><code>Sum3 &lt;- Sum3%&gt;%
  mutate(plot_area_prop = size/total_area)</code></pre>
<table style="width:100%;">
<colgroup>
<col width="8%" />
<col width="10%" />
<col width="5%" />
<col width="13%" />
<col width="13%" />
<col width="11%" />
<col width="9%" />
<col width="9%" />
<col width="7%" />
<col width="15%" />
</colgroup>
<thead>
<tr class="header">
<th align="right">plot_id</th>
<th align="right">farmer_id</th>
<th align="right">size</th>
<th align="right">fertiliser_1</th>
<th align="right">fertiliser_2</th>
<th align="right">total_area</th>
<th align="right">avg_area</th>
<th align="right">sd</th>
<th align="right">nplots</th>
<th align="right">plot_area_prop</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">6</td>
<td align="right">1</td>
<td align="right">1.9</td>
<td align="right">4</td>
<td align="right">1</td>
<td align="right">5.7</td>
<td align="right">1.900000</td>
<td align="right">1.400000</td>
<td align="right">3</td>
<td align="right">0.3333333</td>
</tr>
<tr class="even">
<td align="right">10</td>
<td align="right">1</td>
<td align="right">3.3</td>
<td align="right">4</td>
<td align="right">3</td>
<td align="right">5.7</td>
<td align="right">1.900000</td>
<td align="right">1.400000</td>
<td align="right">3</td>
<td align="right">0.5789474</td>
</tr>
<tr class="odd">
<td align="right">38</td>
<td align="right">1</td>
<td align="right">0.5</td>
<td align="right">4</td>
<td align="right">2</td>
<td align="right">5.7</td>
<td align="right">1.900000</td>
<td align="right">1.400000</td>
<td align="right">3</td>
<td align="right">0.0877193</td>
</tr>
<tr class="even">
<td align="right">36</td>
<td align="right">2</td>
<td align="right">2.1</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="right">10.4</td>
<td align="right">2.600000</td>
<td align="right">1.311488</td>
<td align="right">4</td>
<td align="right">0.2019231</td>
</tr>
<tr class="odd">
<td align="right">43</td>
<td align="right">2</td>
<td align="right">2.3</td>
<td align="right">4</td>
<td align="right">1</td>
<td align="right">10.4</td>
<td align="right">2.600000</td>
<td align="right">1.311488</td>
<td align="right">4</td>
<td align="right">0.2211538</td>
</tr>
<tr class="even">
<td align="right">44</td>
<td align="right">2</td>
<td align="right">4.5</td>
<td align="right">2</td>
<td align="right">4</td>
<td align="right">10.4</td>
<td align="right">2.600000</td>
<td align="right">1.311488</td>
<td align="right">4</td>
<td align="right">0.4326923</td>
</tr>
<tr class="odd">
<td align="right">47</td>
<td align="right">2</td>
<td align="right">1.5</td>
<td align="right">3</td>
<td align="right">2</td>
<td align="right">10.4</td>
<td align="right">2.600000</td>
<td align="right">1.311488</td>
<td align="right">4</td>
<td align="right">0.1442308</td>
</tr>
<tr class="even">
<td align="right">8</td>
<td align="right">3</td>
<td align="right">3.9</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">16.0</td>
<td align="right">2.666667</td>
<td align="right">1.267544</td>
<td align="right">6</td>
<td align="right">0.2437500</td>
</tr>
<tr class="odd">
<td align="right">17</td>
<td align="right">3</td>
<td align="right">3.1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">16.0</td>
<td align="right">2.666667</td>
<td align="right">1.267544</td>
<td align="right">6</td>
<td align="right">0.1937500</td>
</tr>
<tr class="even">
<td align="right">18</td>
<td align="right">3</td>
<td align="right">1.5</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">16.0</td>
<td align="right">2.666667</td>
<td align="right">1.267544</td>
<td align="right">6</td>
<td align="right">0.0937500</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="section-binding-data" class="section level2">
<h2>Binding data</h2>
<p>In the live session we introduced two types of data merging. Binding and joining. First let’s look at binding this involves combining data tables which are very similar, they will not contain related information from different levels but generally additional data that is for the same set of observations or additional observations for the same set of variables.</p>
<p>The two data tables would therefore have a very similar structure. We are not trying to match data from two seprate tables but rather add to an exisitng table.</p>
<p>There are two ways that we can do this. By rows or by columns.</p>
<div id="section-row-binding" class="section level3">
<h3>Row binding</h3>
<p>Row binding would be used when you have two or more datasets containing the same variables, the difference is that they contain seperate sets of observations. For example, you could have data collected in one location and data collected in another but this data has been stored apart. They contain the same variables as the data collection tool was identical but different observations. You can bind these datasets together by their rows.</p>
<p>Let’s pretend that our farmer data was originally stored into different data sets and now we want to combine them together</p>
<pre class="r"><code>Farmer_dataA</code></pre>
<pre><code>##    farmer_id village_id    name
## 1          1          3  Saadiq
## 2          2          3 Jelicha
## 3          3          1  Briana
## 4          4          5   Daeun
## 5          5          5 Ruwaida
## 6          6          2   Fawzi
## 7          7          2  Yashna
## 8          8          1    Tara
## 9          9          5  Melina
## 10        10          5 Jeelaan
## 11        11          1 Razeena
## 12        12          1   Sidqi</code></pre>
<p>First we have farmers 1 through 12</p>
<pre class="r"><code>Farmer_dataB</code></pre>
<pre><code>##    farmer_id village_id     name
## 13        13          5     Eric
## 14        14          5    Ryann
## 15        15          2 Kingsley
## 16        16          2    Rifqa
## 17        17          1   Denise
## 18        18          4   Suhaib
## 19        19          1   Daniel
## 20        20          4     Sara</code></pre>
<p>Then farmers 13 through 20.</p>
<p>It is thankfully very simple to bind these two datasets as we have the same number of columns in our data, and they have the same names.</p>
<p>We can use the base r function <code>rbind</code> to simply achieve this binding. All we need to do is add the names of the data sets we want to bind.</p>
<pre class="r"><code>rbind(Farmer_dataA, Farmer_dataB)</code></pre>
<pre><code>##    farmer_id village_id     name
## 1          1          3   Saadiq
## 2          2          3  Jelicha
## 3          3          1   Briana
## 4          4          5    Daeun
## 5          5          5  Ruwaida
## 6          6          2    Fawzi
## 7          7          2   Yashna
## 8          8          1     Tara
## 9          9          5   Melina
## 10        10          5  Jeelaan
## 11        11          1  Razeena
## 12        12          1    Sidqi
## 13        13          5     Eric
## 14        14          5    Ryann
## 15        15          2 Kingsley
## 16        16          2    Rifqa
## 17        17          1   Denise
## 18        18          4   Suhaib
## 19        19          1   Daniel
## 20        20          4     Sara</code></pre>
<p>Now with rbind there is a litlte issue that occurs if there are variables in one dataset that aren’t in the other. Let’s add an age variable to our first dataset but not the second and see what happens when we try to merge them</p>
<pre><code>##    farmer_id village_id    name Age
## 1          1          3  Saadiq  45
## 2          2          3 Jelicha  63
## 3          3          1  Briana  55
## 4          4          5   Daeun  28
## 5          5          5 Ruwaida  25
## 6          6          2   Fawzi  40
## 7          7          2  Yashna  37
## 8          8          1    Tara  22
## 9          9          5  Melina  19
## 10        10          5 Jeelaan  58
## 11        11          1 Razeena  29
## 12        12          1   Sidqi  20</code></pre>
<pre class="r"><code>rbind(Farmer_dataA, Farmer_dataB)</code></pre>
<pre><code>## Error in rbind(deparse.level, ...): numbers of columns of arguments do not match</code></pre>
<p>We get an error instead. This is because <code>rbind</code> requires that there are exactly the same number of columns in both data sets.</p>
<p>To get around this issue, there is the <code>bind_rows</code> function from dyplr. This matches the columns by their names (so make sure those are the same in both datasets still), and if there are any column not present in both datasets, it will just fill this with NA in the data set where it is not present.</p>
<pre class="r"><code>bind_rows(Farmer_dataA, Farmer_dataB)</code></pre>
<pre><code>##    farmer_id village_id     name Age
## 1          1          3   Saadiq  45
## 2          2          3  Jelicha  63
## 3          3          1   Briana  55
## 4          4          5    Daeun  28
## 5          5          5  Ruwaida  25
## 6          6          2    Fawzi  40
## 7          7          2   Yashna  37
## 8          8          1     Tara  22
## 9          9          5   Melina  19
## 10        10          5  Jeelaan  58
## 11        11          1  Razeena  29
## 12        12          1    Sidqi  20
## 13        13          5     Eric  NA
## 14        14          5    Ryann  NA
## 15        15          2 Kingsley  NA
## 16        16          2    Rifqa  NA
## 17        17          1   Denise  NA
## 18        18          4   Suhaib  NA
## 19        19          1   Daniel  NA
## 20        20          4     Sara  NA</code></pre>
</div>
<div id="section-column-binding" class="section level3">
<h3>Column binding</h3>
</div>
</div>
<div id="section-full-join" class="section level2">
<h2>Full join</h2>
</div>
<div id="section-left-join" class="section level2">
<h2>Left join</h2>
</div>
<div id="section-inner-join" class="section level2">
<h2>Inner join</h2>
</div>
<div id="section-external-links-and-resouces" class="section level2">
<h2>External links and resouces</h2>

<script type="application/shiny-prerendered" data-context="server-start">
knitr::opts_chunk$set(echo = TRUE, message = FALSE, warning = FALSE)
</script>
 <!--html_preserve-->
<script type="application/shiny-prerendered" data-context="dependencies">
{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["3.6.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/3.6.0"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery-3.6.0.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquerylib"]},{"type":"logical","attributes":{},"value":[true]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bootstrap"]},{"type":"character","attributes":{},"value":["3.3.5"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/bootstrap"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["viewport"]}},"value":[{"type":"character","attributes":{},"value":["width=device-width, initial-scale=1"]}]},{"type":"character","attributes":{},"value":["js/bootstrap.min.js","shim/html5shiv.min.js","shim/respond.min.js"]},{"type":"character","attributes":{},"value":["css/cerulean.min.css"]},{"type":"character","attributes":{},"value":["<style>h1 {font-size: 34px;}\n       h1.title {font-size: 38px;}\n       h2 {font-size: 30px;}\n       h3 {font-size: 24px;}\n       h4 {font-size: 18px;}\n       h5 {font-size: 16px;}\n       h6 {font-size: 12px;}\n       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}\n       pre:not([class]) { background-color: white }<\/style>"]},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.11"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["highlightjs"]},{"type":"character","attributes":{},"value":["9.12.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/highlightjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["highlight.js"]},{"type":"character","attributes":{},"value":["textmate.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.11"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial.js"]},{"type":"character","attributes":{},"value":["tutorial.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-autocompletion"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-autocompletion.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-diagnostics"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-diagnostics.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-format"]},{"type":"character","attributes":{},"value":["0.10.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmarkdown/templates/tutorial/resources"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-format.js"]},{"type":"character","attributes":{},"value":["tutorial-format.css","rstudio-theme.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.10.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["3.6.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/3.6.0"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery-3.6.0.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquerylib"]},{"type":"logical","attributes":{},"value":[true]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["navigation"]},{"type":"character","attributes":{},"value":["1.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/navigation-1.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tabsets.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.11"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["highlightjs"]},{"type":"character","attributes":{},"value":["9.12.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/highlightjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["highlight.js"]},{"type":"character","attributes":{},"value":["default.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["2.11"]}]}]}
</script>
<!--/html_preserve-->
<!--html_preserve-->
<script type="application/shiny-prerendered" data-context="execution_dependencies">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages","version"]},"class":{"type":"character","attributes":{},"value":["data.frame"]},"row.names":{"type":"integer","attributes":{},"value":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88]}},"value":[{"type":"character","attributes":{},"value":["assertthat","backports","base","brio","broom","bslib","cellranger","cli","colorspace","compiler","crayon","data.table","datasets","DBI","dbplyr","digest","dplyr","ellipsis","evaluate","fansi","fastmap","forcats","fs","generics","ggplot2","glue","graphics","grDevices","grid","gtable","haven","highr","hms","htmltools","htmlwidgets","httpuv","httr","jquerylib","jsonlite","knitr","later","learnr","lifecycle","lubridate","magrittr","markdown","methods","mime","modelr","munsell","pillar","pkgconfig","promises","purrr","R6","randomNames","Rcpp","readr","readxl","renv","reprex","rlang","rmarkdown","rprojroot","rstudioapi","rvest","sass","scales","shiny","stats","stringi","stringr","testthat","tibble","tidyr","tidyselect","tidyverse","tools","toOrdinal","tzdb","utf8","utils","vctrs","withr","xfun","xml2","xtable","yaml"]},{"type":"character","attributes":{},"value":["0.2.1","1.4.1","4.0.3","1.1.3","0.7.12","0.3.1","1.1.0","3.2.0","2.0-3","4.0.3","1.5.0","1.14.2","4.0.3","1.1.2","2.1.1","0.6.29","1.0.8","0.3.2","0.15","1.0.2","1.1.0","0.5.1","1.5.2","0.1.2","3.3.5","1.6.2","4.0.3","4.0.3","4.0.3","0.3.0","2.4.3","0.9","1.1.1","0.5.2","1.5.4","1.6.5","1.4.2","0.1.4","1.8.0","1.37","1.3.0","0.10.1","1.0.1","1.8.0","2.0.2","1.1","4.0.3","0.12","0.1.8","0.5.0","1.7.0","2.0.3","1.2.0.1","0.3.4","2.5.1","1.5-0.0","1.0.8","2.1.2","1.3.1","0.15.1","2.0.1","1.0.1","2.11","2.0.2","0.13","1.0.2","0.4.0","1.1.1","1.7.1","4.0.3","1.7.6","1.4.0","3.1.2","3.1.6","1.2.0","1.1.2","1.3.1","4.0.3","1.3-0.0","0.2.0","1.2.2","4.0.3","0.3.8","2.4.3","0.29","1.3.3","1.8-4","2.3.5"]}]}]}
</script>
<!--/html_preserve-->
</div>

</div> <!-- topics -->

<div class="topicsContainer">
<div class="topicsPositioner">
<div class="band">
<div class="bandContent topicsListContainer">

<!-- begin doc-metadata -->
<div id="doc-metadata">
<h2 class="title toc-ignore" style="display:none;">Relational Data in R</h2>
</div>
<!-- end doc-metadata -->

</div> <!-- bandContent.topicsListContainer -->
</div> <!-- band -->
</div> <!-- topicsPositioner -->
</div> <!-- topicsContainer -->


</div> <!-- bandContent page -->
</div> <!-- pageContent band -->




<script>
// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});
</script>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>


</body>

</html>
